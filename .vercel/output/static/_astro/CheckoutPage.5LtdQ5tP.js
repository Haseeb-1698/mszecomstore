import{j as e}from"./jsx-runtime.ClP7wGfN.js";import{r as d}from"./index.DK-fsZOb.js";import{u as P}from"./CartContext.DAmm_irw.js";import{Button as N}from"./Button.Cn8SXE5E.js";import{I as h,T as M}from"./Input.D8QmkInf.js";import{C as u,a as p,b as j,c as b}from"./Card.BGoOmBt8.js";import"./useCart.B6xWFSkK.js";const z=({customerInfo:r,setCustomerInfo:i,errors:s,setErrors:a})=>{const c=(t,n)=>{i(o=>({...o,[t]:n})),s[t]&&a(o=>{const m={...o};return delete m[t],m})};return e.jsxs(u,{variant:"elevated",className:"bg-cream-100 dark:bg-charcoal-800 border-cream-400 dark:border-charcoal-700",children:[e.jsxs(p,{children:[e.jsxs(j,{className:"text-charcoal-900 dark:text-white flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-coral-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Contact Information"]}),e.jsx("p",{className:"text-sm text-charcoal-600 dark:text-cream-400",children:"We'll use this information to deliver your subscription details"})]}),e.jsxs(b,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(h,{label:"Full Name",type:"text",placeholder:"Ahmed Hassan",value:r.name,onChange:t=>c("name",t.target.value),error:s.name,fullWidth:!0,required:!0,className:"bg-cream-50 dark:bg-charcoal-700 border-cream-300 dark:border-charcoal-600"}),e.jsx(h,{label:"Email Address",type:"email",placeholder:"ahmed.hassan@email.com",value:r.email,onChange:t=>c("email",t.target.value),error:s.email,fullWidth:!0,required:!0,className:"bg-cream-50 dark:bg-charcoal-700 border-cream-300 dark:border-charcoal-600"})]}),e.jsx(h,{label:"WhatsApp Number",type:"tel",placeholder:"+92 300 1234567",value:r.whatsapp,onChange:t=>c("whatsapp",t.target.value),error:s.whatsapp,helperText:"Account credentials will be sent to this WhatsApp number",fullWidth:!0,required:!0,className:"bg-cream-50 dark:bg-charcoal-700 border-cream-300 dark:border-charcoal-600"}),e.jsx(M,{label:"Special Instructions (Optional)",placeholder:"Any specific requirements, preferred delivery time, or additional notes...",value:r.instructions,onChange:t=>c("instructions",t.target.value),rows:4,fullWidth:!0,className:"bg-cream-50 dark:bg-charcoal-700 border-cream-300 dark:border-charcoal-600"}),e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300 mb-1",children:"Important Information"}),e.jsxs("ul",{className:"text-xs text-yellow-700 dark:text-yellow-400 space-y-1",children:[e.jsx("li",{children:"• Account details will be delivered within 5-10 minutes"}),e.jsx("li",{children:"• Make sure your WhatsApp number is active and correct"}),e.jsx("li",{children:"• Check your email for order confirmation and receipt"})]})]})]})})]})]})},L=({cart:r,isSubmitting:i,agreeToTerms:s})=>e.jsx("div",{className:"sticky top-4",children:e.jsxs(u,{variant:"elevated",className:"h-fit max-h-[calc(100vh-2rem)] overflow-y-auto bg-cream-100 dark:bg-charcoal-800 border-cream-400 dark:border-charcoal-700 flex flex-col",children:[e.jsx(p,{children:e.jsx(j,{className:"text-charcoal-900 dark:text-white",children:"Order Summary"})}),e.jsxs(b,{className:"space-y-4 flex-1 flex flex-col justify-between",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"space-y-4",children:r.items.map(a=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-cream-50 dark:bg-charcoal-700 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-charcoal-800 dark:text-cream-100",children:a.serviceName}),e.jsx("p",{className:"text-charcoal-600 dark:text-cream-400 text-sm",children:a.planDuration}),e.jsxs("p",{className:"text-charcoal-600 dark:text-cream-400 text-xs",children:["Quantity: ",a.quantity]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-charcoal-800 dark:text-cream-100",children:["PKR ",(a.price*a.quantity).toLocaleString()]}),e.jsxs("p",{className:"text-charcoal-600 dark:text-cream-400 text-xs",children:["PKR ",a.price.toLocaleString()," each"]})]})]},a.id))}),e.jsxs("div",{className:"border-t border-cream-400 dark:border-charcoal-700 pt-4 space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-charcoal-700 dark:text-cream-300",children:[e.jsxs("span",{children:["Subtotal (",r.items.reduce((a,c)=>a+c.quantity,0)," items)"]}),e.jsxs("span",{className:"font-medium",children:["PKR ",r.subtotal.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-charcoal-700 dark:text-cream-300",children:[e.jsx("span",{children:"Processing Fee"}),e.jsx("span",{className:"font-medium",children:"PKR 0"})]}),r.discount>0&&e.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[e.jsx("span",{children:"Discount Applied"}),e.jsxs("span",{className:"font-medium",children:["-PKR ",r.discount.toLocaleString()]})]}),e.jsx("div",{className:"border-t border-cream-400 dark:border-charcoal-700 pt-3",children:e.jsxs("div",{className:"flex justify-between text-xl font-bold text-charcoal-800 dark:text-cream-100",children:[e.jsx("span",{children:"Total Amount"}),e.jsxs("span",{children:["PKR ",r.total.toLocaleString()]})]})})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:"Delivery Information"})]}),e.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-400",children:"Account details will be delivered to your WhatsApp within 5-10 minutes after payment confirmation."})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(N,{type:"submit",variant:"primary",size:"lg",fullWidth:!0,disabled:i||!s,className:"bg-coral-500 hover:bg-coral-600 text-white font-semibold py-4",children:i?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing Order..."]}):`Place Order - PKR ${r.total.toLocaleString()}`}),e.jsxs("div",{className:"text-xs text-center text-charcoal-600 dark:text-cream-400 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"SSL Secured"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:"Instant Delivery"})]})]}),e.jsx("p",{children:"Your payment is protected by our secure checkout system"})]})]})]})]})}),S=({paymentMethod:r,setPaymentMethod:i})=>{const s=[{id:"EasyPaisa",name:"EasyPaisa",icon:e.jsx("div",{className:"w-16 h-10 rounded-lg overflow-hidden bg-transparent flex items-center justify-center",children:e.jsx("img",{src:"/icons/easy.png",alt:"EasyPaisa",className:"w-full h-full object-contain"})}),description:"Pay instantly with your EasyPaisa mobile wallet",processingTime:"Instant",popular:!0},{id:"JazzCash",name:"JazzCash",icon:e.jsx("div",{className:"w-16 h-10 rounded-lg overflow-hidden bg-transparent flex items-center justify-center",children:e.jsx("img",{src:"/icons/jazz.png",alt:"JazzCash",className:"w-full h-full object-contain"})}),description:"Pay securely with your JazzCash mobile account",processingTime:"Instant",popular:!1},{id:"Bank Transfer",name:"Bank Transfer",icon:e.jsx("div",{className:"w-16 h-10 rounded-lg overflow-hidden bg-transparent flex items-center justify-center",children:e.jsx("img",{src:"/icons/bank-alfalah-logo.png",alt:"Bank Alfalah",className:"w-full h-full object-contain"})}),description:"Transfer directly from your bank account",processingTime:"1-2 hours",popular:!1}];return e.jsxs(u,{variant:"elevated",className:"bg-cream-100 dark:bg-charcoal-800 border-cream-400 dark:border-charcoal-700",children:[e.jsxs(p,{children:[e.jsxs(j,{className:"text-charcoal-900 dark:text-white flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-coral-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Payment Method"]}),e.jsx("p",{className:"text-sm text-charcoal-600 dark:text-cream-400",children:"Choose your preferred payment method"})]}),e.jsxs(b,{className:"space-y-4",children:[s.map(a=>e.jsxs("label",{htmlFor:`payment-${a.id.replaceAll(/\s+/g,"-")}`,className:`relative flex items-start gap-4 p-4 rounded-xl border-2 cursor-pointer transition-all ${r===a.id?"border-coral-500 dark:border-coral-400 bg-coral-50 dark:bg-coral-900/20 shadow-md":"border-cream-300 dark:border-charcoal-500 hover:border-coral-400 dark:hover:border-coral-500 bg-cream-50 dark:bg-charcoal-700"}`,children:[a.popular&&e.jsx("div",{className:"absolute -top-2 -right-2 bg-coral-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:"Popular"}),e.jsx("input",{id:`payment-${a.id.replaceAll(/\s+/g,"-")}`,type:"radio",name:"paymentMethod",value:a.id,checked:r===a.id,onChange:()=>i(a.id),className:"mt-1 w-5 h-5 text-coral-500 focus:ring-coral-500 border-cream-400 dark:border-charcoal-600","aria-label":a.name}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.icon,e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-charcoal-800 dark:text-cream-100 text-lg",children:a.name}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 px-2 py-1 rounded-full",children:a.processingTime})})]})]}),e.jsx("p",{className:"text-sm text-charcoal-600 dark:text-cream-400",children:a.description})]})]},a.id)),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-300 mb-2",children:"Payment Process"}),e.jsxs("ul",{className:"text-xs text-blue-700 dark:text-blue-400 space-y-1",children:[e.jsx("li",{children:"1. Complete your order and receive payment instructions"}),e.jsx("li",{children:"2. Make payment using your selected method"}),e.jsx("li",{children:"3. Send payment screenshot to our WhatsApp"}),e.jsx("li",{children:"4. Receive account details within 5-10 minutes"})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-charcoal-600 dark:text-cream-400 bg-cream-50 dark:bg-charcoal-700 p-3 rounded-lg",children:[e.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.031 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),e.jsx("span",{children:"All payments are secured and processed safely"})]})]})]})},k={id:"demo_cart",items:[{id:"demo_1",serviceId:"netflix",planId:"netflix-standard",serviceName:"Netflix Premium",planDuration:"Standard Plan - 1 Month",price:1500,quantity:1},{id:"demo_2",serviceId:"spotify",planId:"spotify-individual",serviceName:"Spotify Premium",planDuration:"Individual Plan - 1 Month",price:800,quantity:1}],subtotal:2300,discount:0,total:2300,createdAt:new Date,updatedAt:new Date},E=()=>{const{cart:r,isLoading:i}=P(),[s,a]=d.useState({name:"",email:"",whatsapp:"",instructions:""}),[c,t]=d.useState("EasyPaisa"),[n,o]=d.useState(!1),[m,f]=d.useState(!1),[y,g]=d.useState({}),v=!i&&r.items.length>0?r:k,w=()=>{const l={};return s.name.trim()||(l.name="Name is required"),s.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(l.email="Invalid email format"):l.email="Email is required",s.whatsapp.trim()||(l.whatsapp="WhatsApp number is required"),g(l),Object.keys(l).length===0},C=async l=>{if(l.preventDefault(),!w()||!n){n||alert("Please agree to the terms and conditions");return}f(!0);try{const x=`checkout_${Date.now()}_${Math.random().toString(36).substring(2,11)}`;globalThis.location.href=`/payment/success?session=${x}&method=${encodeURIComponent(c)}`}catch(x){console.error("Checkout error:",x),alert("Failed to process checkout. Please try again.")}finally{f(!1)}};return e.jsx("div",{className:"min-h-screen bg-cream-50 dark:bg-charcoal-900 py-16",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center gap-4 mb-4",children:e.jsx("a",{href:"/cart",children:e.jsxs(N,{variant:"ghost",size:"md",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Cart"]})})}),e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("svg",{className:"w-8 h-8 text-coral-500 dark:text-coral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),e.jsx("h1",{className:"text-4xl font-bold text-charcoal-800 dark:text-cream-100",children:"Checkout"})]}),e.jsx("p",{className:"text-charcoal-700 dark:text-cream-300 text-lg",children:"Complete your order"})]}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between max-w-2xl mx-auto",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-coral-500 text-white flex items-center justify-center font-bold",children:"✓"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-charcoal-800 dark:text-cream-100",children:"Cart"})]}),e.jsx("div",{className:"flex-1 h-1 bg-coral-500 mx-2"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-coral-500 text-white flex items-center justify-center font-bold",children:"2"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-charcoal-800 dark:text-cream-100",children:"Checkout"})]}),e.jsx("div",{className:"flex-1 h-1 bg-cream-400 dark:bg-charcoal-700 mx-2"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-cream-400 dark:bg-charcoal-700 text-charcoal-600 dark:text-cream-400 flex items-center justify-center font-bold",children:"3"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-charcoal-600 dark:text-cream-400",children:"Payment"})]})]})}),v===k&&e.jsx("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:"Demo Mode: Showing sample checkout with demo items"})]})}),e.jsx("form",{onSubmit:C,children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsx(z,{customerInfo:s,setCustomerInfo:a,errors:y,setErrors:g}),e.jsx(S,{paymentMethod:c,setPaymentMethod:t}),e.jsx("div",{className:"bg-cream-100 dark:bg-charcoal-800 border border-cream-400 dark:border-charcoal-700 rounded-2xl p-6",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:l=>o(l.target.checked),className:"mt-1 w-5 h-5 rounded border-cream-400 dark:border-charcoal-600 text-coral-500 focus:ring-coral-500"}),e.jsxs("span",{className:"text-sm text-charcoal-700 dark:text-cream-300",children:["I agree to the"," ",e.jsx("a",{href:"/terms",className:"text-coral-500 hover:text-coral-600 underline",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"/privacy",className:"text-coral-500 hover:text-coral-600 underline",children:"Privacy Policy"})]})]})})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(L,{cart:v,isSubmitting:m,agreeToTerms:n})})]})})]})})};export{E as default};
